# WebSocket 채팅 서버용 Dockerfile
FROM node:20-alpine

WORKDIR /app

# WebSocket 서버 의존성 설치
RUN npm init -y && npm install express ws

# WebSocket 서버 파일 복사
COPY src/server/server.js ./server.js

# 환경 변수 설정
ENV NODE_ENV=production
ENV PORT=7777

# 포트 노출
EXPOSE 7777

# WebSocket 서버 시작
CMD ["node", "server.js"]
